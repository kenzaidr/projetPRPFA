// Translations for Grab Morocco
const translations = {
    ar: {
        // Navigation
        'nav.services': 'Ø§Ù„Ø®Ø¯Ù…Ø§Øª',
        'nav.howItWorks': 'ÙƒÙŠÙ ÙŠØ¹Ù…Ù„',
        'nav.safety': 'Ø§Ù„Ø£Ù…Ø§Ù†',
        'nav.partner': 'ÙƒÙ† Ø´Ø±ÙŠÙƒØ§Ù‹',
        'nav.login': 'ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„',
        'nav.downloadApp': 'Ø­Ù…Ù„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚',
        
        // Hero Section
        'hero.badge': 'ðŸ‡²ðŸ‡¦ Ø®Ø¯Ù…Ø© Ù…ØºØ±Ø¨ÙŠØ© 100%',
        'hero.title1': 'ØªÙ†Ù‚Ù„ Ø¨Ø³Ù‡ÙˆÙ„Ø©',
        'hero.title2': 'ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø£Ù†Ø­Ø§Ø¡ Ø§Ù„Ù…ØºØ±Ø¨',
        'hero.description': 'Ø§Ø­Ø¬Ø² Ø³ÙŠØ§Ø±ØªÙƒØŒ Ø§Ø·Ù„Ø¨ Ø·Ø¹Ø§Ù…ÙƒØŒ Ø£Ùˆ Ø£Ø±Ø³Ù„ Ø·Ø±Ø¯Ùƒ Ø¨Ø¶ØºØ·Ø© Ø²Ø± ÙˆØ§Ø­Ø¯Ø©. Ø®Ø¯Ù…Ø© Ø³Ø±ÙŠØ¹Ø© ÙˆØ¢Ù…Ù†Ø© ÙˆÙ…ØªØ§Ø­Ø© Ø¹Ù„Ù‰ Ù…Ø¯Ø§Ø± Ø§Ù„Ø³Ø§Ø¹Ø©.',
        'hero.bookNow': 'Ø§Ø­Ø¬Ø² Ø§Ù„Ø¢Ù†',
        'hero.watchVideo': 'Ø´Ø§Ù‡Ø¯ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ',
        'hero.stat1': 'Ø³Ø§Ø¦Ù‚ Ù†Ø´Ø·',
        'hero.stat2': 'Ø±Ø­Ù„Ø© ÙŠÙˆÙ…ÙŠØ©',
        'hero.stat3': 'ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡',
        'hero.nextRide': 'Ø±Ø­Ù„ØªÙƒ Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©',
        'hero.nextRideTime': '5 Ø¯Ù‚Ø§Ø¦Ù‚',
        'hero.foodDelivery': 'ØªÙˆØµÙŠÙ„ Ø§Ù„Ø·Ø¹Ø§Ù…',
        'hero.foodDeliveryTime': '30 Ø¯Ù‚ÙŠÙ‚Ø©',
        
        // Services Section
        'services.title': 'Ø®Ø¯Ù…Ø§ØªÙ†Ø§',
        'services.subtitle': 'ÙƒÙ„ Ù…Ø§ ØªØ­ØªØ§Ø¬Ù‡ ÙÙŠ ØªØ·Ø¨ÙŠÙ‚ ÙˆØ§Ø­Ø¯',
        'services.ride.title': 'Ø®Ø¯Ù…Ø© Ø§Ù„ØªÙˆØµÙŠÙ„',
        'services.ride.description': 'Ø§Ø­Ø¬Ø² Ø³ÙŠØ§Ø±Ø© Ø®Ø§ØµØ© Ø£Ùˆ Ù…Ø´ØªØ±ÙƒØ© Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ ÙˆØ¬Ù‡ØªÙƒ Ø¨Ø£Ù…Ø§Ù† ÙˆØ±Ø§Ø­Ø©. Ø£Ø³Ø¹Ø§Ø± ØªÙ†Ø§ÙØ³ÙŠØ© ÙˆØ³Ø§Ø¦Ù‚ÙˆÙ† Ù…Ø­ØªØ±ÙÙˆÙ†.',
        'services.ride.cta': 'Ø§Ø­Ø¬Ø² Ø§Ù„Ø¢Ù†',
        'services.food.title': 'ØªÙˆØµÙŠÙ„ Ø§Ù„Ø·Ø¹Ø§Ù…',
        'services.food.description': 'Ø§Ø·Ù„Ø¨ Ù…Ù† Ù…Ø·Ø§Ø¹Ù…Ùƒ Ø§Ù„Ù…ÙØ¶Ù„Ø© ÙˆØ§Ø³ØªÙ…ØªØ¹ Ø¨ÙˆØ¬Ø¨ØªÙƒ ÙÙŠ Ø§Ù„Ù…Ù†Ø²Ù„. ØªÙˆØµÙŠÙ„ Ø³Ø±ÙŠØ¹ ÙˆØ·Ø¹Ø§Ù… Ø·Ø§Ø²Ø¬ Ø¯Ø§Ø¦Ù…Ø§Ù‹.',
        'services.food.cta': 'Ø§Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù†',
        'services.package.title': 'ØªÙˆØµÙŠÙ„ Ø§Ù„Ø·Ø±ÙˆØ¯',
        'services.package.description': 'Ø£Ø±Ø³Ù„ ÙˆØ§Ø³ØªÙ‚Ø¨Ù„ Ø·Ø±ÙˆØ¯Ùƒ Ø¨Ø³Ø±Ø¹Ø© ÙˆØ£Ù…Ø§Ù†. Ø®Ø¯Ù…Ø© ØªÙˆØµÙŠÙ„ Ù…ÙˆØ«ÙˆÙ‚Ø© Ù„Ø¬Ù…ÙŠØ¹ Ø§Ø­ØªÙŠØ§Ø¬Ø§ØªÙƒ.',
        'services.package.cta': 'Ø£Ø±Ø³Ù„ Ø·Ø±Ø¯',
        
        // How It Works Section
        'howItWorks.title': 'ÙƒÙŠÙ ÙŠØ¹Ù…Ù„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ØŸ',
        'howItWorks.subtitle': 'Ø«Ù„Ø§Ø« Ø®Ø·ÙˆØ§Øª Ø¨Ø³ÙŠØ·Ø© ÙÙ‚Ø·',
        'howItWorks.step1.title': 'Ø§Ø®ØªØ± Ø§Ù„Ø®Ø¯Ù…Ø©',
        'howItWorks.step1.description': 'Ø­Ø¯Ø¯ Ù†ÙˆØ¹ Ø§Ù„Ø®Ø¯Ù…Ø© Ø§Ù„ØªÙŠ ØªØ­ØªØ§Ø¬Ù‡Ø§: ØªÙˆØµÙŠÙ„ØŒ Ø·Ø¹Ø§Ù…ØŒ Ø£Ùˆ Ø·Ø±Ø¯',
        'howItWorks.step2.title': 'Ø§Ø­Ø¬Ø² Ø¨Ø³Ù‡ÙˆÙ„Ø©',
        'howItWorks.step2.description': 'Ø£Ø¯Ø®Ù„ ØªÙØ§ØµÙŠÙ„ Ø·Ù„Ø¨Ùƒ ÙˆØ§Ø®ØªØ± Ø§Ù„Ø³Ø§Ø¦Ù‚ Ø£Ùˆ Ø§Ù„Ù…Ø·Ø¹Ù… Ø§Ù„Ù…Ù†Ø§Ø³Ø¨',
        'howItWorks.step3.title': 'ØªØªØ¨Ø¹ ÙˆØµÙˆÙ„ Ø·Ù„Ø¨Ùƒ',
        'howItWorks.step3.description': 'Ø±Ø§Ù‚Ø¨ Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø³Ø§Ø¦Ù‚ ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„ÙØ¹Ù„ÙŠ Ø­ØªÙ‰ Ø§Ù„ÙˆØµÙˆÙ„',
        
        // Features Section
        'features.title': 'Ù„Ù…Ø§Ø°Ø§ Grab MoroccoØŸ',
        'features.subtitle': 'Ù…ÙŠØ²Ø§Øª ØªØ¬Ø¹Ù„Ù†Ø§ Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø£ÙØ¶Ù„',
        'features.safety.title': 'Ø£Ù…Ø§Ù† Ù…Ø¶Ù…ÙˆÙ†',
        'features.safety.description': 'Ø³Ø§Ø¦Ù‚ÙˆÙ† Ù…ÙˆØ«ÙˆÙ‚ÙˆÙ† ÙˆÙ…Ø±Ø§Ù‚Ø¨Ø© Ø¹Ù„Ù‰ Ù…Ø¯Ø§Ø± Ø§Ù„Ø³Ø§Ø¹Ø©',
        'features.payment.title': 'Ø¯ÙØ¹ Ù…Ø±Ù†',
        'features.payment.description': 'Ù†Ù‚Ø¯Ø§Ù‹ Ø£Ùˆ Ø¨Ø·Ø§Ù‚Ø© Ø£Ùˆ Ù…Ø­ÙØ¸Ø© Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©',
        'features.tracking.title': 'ØªØªØ¨Ø¹ ÙÙˆØ±ÙŠ',
        'features.tracking.description': 'Ø±Ø§Ù‚Ø¨ Ù…ÙˆÙ‚Ø¹ Ø·Ù„Ø¨Ùƒ Ù„Ø­Ø¸Ø© Ø¨Ù„Ø­Ø¸Ø©',
        'features.fast.title': 'Ø³Ø±Ø¹Ø© ÙØ§Ø¦Ù‚Ø©',
        'features.fast.description': 'ÙˆØµÙˆÙ„ Ø³Ø±ÙŠØ¹ ÙÙŠ Ø£Ù‚Ù„ Ù…Ù† 5 Ø¯Ù‚Ø§Ø¦Ù‚',
        
        // Partner Section
        'partner.title': 'Ø§Ù†Ø¶Ù… ÙƒØ³Ø§Ø¦Ù‚ Ø´Ø±ÙŠÙƒ',
        'partner.description': 'Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø¯Ø®Ù„ Ø¥Ø¶Ø§ÙÙŠ Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„Ø¹Ù…Ù„ Ù…Ø¹Ù†Ø§. Ø¬Ø¯ÙˆÙ„ Ù…Ø±Ù†ØŒ Ø¯Ø¹Ù… Ù…ØªÙˆØ§ØµÙ„ØŒ ÙˆØ¹Ù…ÙˆÙ„Ø§Øª ØªÙ†Ø§ÙØ³ÙŠØ©.',
        'partner.income': 'Ù…ØªÙˆØ³Ø· Ø§Ù„Ø¯Ø®Ù„ Ø§Ù„Ø´Ù‡Ø±ÙŠ',
        'partner.support': 'Ø¯Ø¹Ù… ÙÙ†ÙŠ',
        'partner.cta': 'Ø³Ø¬Ù„ Ø§Ù„Ø¢Ù† ÙƒØ³Ø§Ø¦Ù‚',
        
        // Footer
        'footer.tagline': 'Ø®Ø¯Ù…Ø© Ø§Ù„ØªÙˆØµÙŠÙ„ Ø§Ù„Ø£ÙˆÙ„Ù‰ ÙÙŠ Ø§Ù„Ù…ØºØ±Ø¨',
        'footer.company': 'Ø§Ù„Ø´Ø±ÙƒØ©',
        'footer.company.about': 'Ù…Ù† Ù†Ø­Ù†',
        'footer.company.careers': 'Ø§Ù„ÙˆØ¸Ø§Ø¦Ù',
        'footer.company.news': 'Ø§Ù„Ø£Ø®Ø¨Ø§Ø±',
        'footer.services': 'Ø§Ù„Ø®Ø¯Ù…Ø§Øª',
        'footer.services.ride': 'Ø§Ù„ØªÙˆØµÙŠÙ„',
        'footer.services.food': 'Ø§Ù„Ø·Ø¹Ø§Ù…',
        'footer.services.package': 'Ø§Ù„Ø·Ø±ÙˆØ¯',
        'footer.support': 'Ø§Ù„Ø¯Ø¹Ù…',
        'footer.support.help': 'Ù…Ø±ÙƒØ² Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©',
        'footer.support.safety': 'Ø§Ù„Ø£Ù…Ø§Ù†',
        'footer.support.contact': 'Ø§ØªØµÙ„ Ø¨Ù†Ø§',
        'footer.copyright': 'Â© 2025 Grab Morocco. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©.',
    },
    
    fr: {
        // Navigation
        'nav.services': 'Services',
        'nav.howItWorks': 'Comment Ã§a marche',
        'nav.safety': 'SÃ©curitÃ©',
        'nav.partner': 'Devenir partenaire',
        'nav.login': 'Connexion',
        'nav.downloadApp': 'TÃ©lÃ©charger l\'app',
        
        // Hero Section
        'hero.badge': 'ðŸ‡²ðŸ‡¦ Service 100% marocain',
        'hero.title1': 'DÃ©placez-vous facilement',
        'hero.title2': 'partout au Maroc',
        'hero.description': 'RÃ©servez votre voiture, commandez votre repas ou envoyez votre colis en un clic. Service rapide, sÃ»r et disponible 24h/24.',
        'hero.bookNow': 'RÃ©server maintenant',
        'hero.watchVideo': 'Voir la vidÃ©o',
        'hero.stat1': 'Chauffeurs actifs',
        'hero.stat2': 'Trajets quotidiens',
        'hero.stat3': 'Avis clients',
        'hero.nextRide': 'Votre prochain trajet',
        'hero.nextRideTime': '5 minutes',
        'hero.foodDelivery': 'Livraison repas',
        'hero.foodDeliveryTime': '30 minutes',
        
        // Services Section
        'services.title': 'Nos services',
        'services.subtitle': 'Tout ce dont vous avez besoin dans une seule application',
        'services.ride.title': 'Service de transport',
        'services.ride.description': 'RÃ©servez une voiture privÃ©e ou partagÃ©e pour arriver Ã  destination en toute sÃ©curitÃ© et confort. Prix compÃ©titifs et chauffeurs professionnels.',
        'services.ride.cta': 'RÃ©server maintenant',
        'services.food.title': 'Livraison de repas',
        'services.food.description': 'Commandez dans vos restaurants prÃ©fÃ©rÃ©s et profitez de votre repas Ã  la maison. Livraison rapide et nourriture toujours fraÃ®che.',
        'services.food.cta': 'Commander maintenant',
        'services.package.title': 'Livraison de colis',
        'services.package.description': 'Envoyez et recevez vos colis rapidement et en toute sÃ©curitÃ©. Service de livraison fiable pour tous vos besoins.',
        'services.package.cta': 'Envoyer un colis',
        
        // How It Works Section
        'howItWorks.title': 'Comment fonctionne l\'application ?',
        'howItWorks.subtitle': 'Seulement trois Ã©tapes simples',
        'howItWorks.step1.title': 'Choisissez le service',
        'howItWorks.step1.description': 'SÃ©lectionnez le type de service dont vous avez besoin : transport, repas ou colis',
        'howItWorks.step2.title': 'RÃ©servez facilement',
        'howItWorks.step2.description': 'Entrez les dÃ©tails de votre commande et choisissez le chauffeur ou le restaurant appropriÃ©',
        'howItWorks.step3.title': 'Suivez votre commande',
        'howItWorks.step3.description': 'Surveillez la position du chauffeur en temps rÃ©el jusqu\'Ã  l\'arrivÃ©e',
        
        // Features Section
        'features.title': 'Pourquoi Grab Morocco ?',
        'features.subtitle': 'Des fonctionnalitÃ©s qui font de nous le meilleur choix',
        'features.safety.title': 'SÃ©curitÃ© garantie',
        'features.safety.description': 'Chauffeurs fiables et surveillance 24h/24',
        'features.payment.title': 'Paiement flexible',
        'features.payment.description': 'EspÃ¨ces, carte ou portefeuille Ã©lectronique',
        'features.tracking.title': 'Suivi instantanÃ©',
        'features.tracking.description': 'Surveillez la position de votre commande en temps rÃ©el',
        'features.fast.title': 'Vitesse exceptionnelle',
        'features.fast.description': 'ArrivÃ©e rapide en moins de 5 minutes',
        
        // Partner Section
        'partner.title': 'Rejoignez-nous en tant que chauffeur partenaire',
        'partner.description': 'Obtenez un revenu supplÃ©mentaire en travaillant avec nous. Horaires flexibles, support continu et commissions compÃ©titives.',
        'partner.income': 'Revenu mensuel moyen',
        'partner.support': 'Support technique',
        'partner.cta': 'S\'inscrire comme chauffeur',
        
        // Footer
        'footer.tagline': 'Premier service de livraison au Maroc',
        'footer.company': 'Entreprise',
        'footer.company.about': 'Ã€ propos',
        'footer.company.careers': 'CarriÃ¨res',
        'footer.company.news': 'ActualitÃ©s',
        'footer.services': 'Services',
        'footer.services.ride': 'Transport',
        'footer.services.food': 'Repas',
        'footer.services.package': 'Colis',
        'footer.support': 'Support',
        'footer.support.help': 'Centre d\'aide',
        'footer.support.safety': 'SÃ©curitÃ©',
        'footer.support.contact': 'Contactez-nous',
        'footer.copyright': 'Â© 2025 Grab Morocco. Tous droits rÃ©servÃ©s.',
    },
    
    en: {
        // Navigation
        'nav.services': 'Services',
        'nav.howItWorks': 'How it works',
        'nav.safety': 'Safety',
        'nav.partner': 'Become a partner',
        'nav.login': 'Login',
        'nav.downloadApp': 'Download app',
        
        // Hero Section
        'hero.badge': 'ðŸ‡²ðŸ‡¦ 100% Moroccan service',
        'hero.title1': 'Move easily',
        'hero.title2': 'throughout Morocco',
        'hero.description': 'Book your car, order your food, or send your package with one click. Fast, safe service available 24/7.',
        'hero.bookNow': 'Book now',
        'hero.watchVideo': 'Watch video',
        'hero.stat1': 'Active drivers',
        'hero.stat2': 'Daily rides',
        'hero.stat3': 'Customer rating',
        'hero.nextRide': 'Your next ride',
        'hero.nextRideTime': '5 minutes',
        'hero.foodDelivery': 'Food delivery',
        'hero.foodDeliveryTime': '30 minutes',
        
        // Services Section
        'services.title': 'Our services',
        'services.subtitle': 'Everything you need in one app',
        'services.ride.title': 'Ride service',
        'services.ride.description': 'Book a private or shared car to reach your destination safely and comfortably. Competitive prices and professional drivers.',
        'services.ride.cta': 'Book now',
        'services.food.title': 'Food delivery',
        'services.food.description': 'Order from your favorite restaurants and enjoy your meal at home. Fast delivery and always fresh food.',
        'services.food.cta': 'Order now',
        'services.package.title': 'Package delivery',
        'services.package.description': 'Send and receive your packages quickly and safely. Reliable delivery service for all your needs.',
        'services.package.cta': 'Send package',
        
        // How It Works Section
        'howItWorks.title': 'How does the app work?',
        'howItWorks.subtitle': 'Just three simple steps',
        'howItWorks.step1.title': 'Choose service',
        'howItWorks.step1.description': 'Select the type of service you need: ride, food, or package',
        'howItWorks.step2.title': 'Book easily',
        'howItWorks.step2.description': 'Enter your order details and choose the appropriate driver or restaurant',
        'howItWorks.step3.title': 'Track your order',
        'howItWorks.step3.description': 'Monitor the driver\'s location in real-time until arrival',
        
        // Features Section
        'features.title': 'Why Grab Morocco?',
        'features.subtitle': 'Features that make us the best choice',
        'features.safety.title': 'Guaranteed safety',
        'features.safety.description': 'Reliable drivers and 24/7 monitoring',
        'features.payment.title': 'Flexible payment',
        'features.payment.description': 'Cash, card, or e-wallet',
        'features.tracking.title': 'Instant tracking',
        'features.tracking.description': 'Monitor your order location in real-time',
        'features.fast.title': 'Exceptional speed',
        'features.fast.description': 'Fast arrival in less than 5 minutes',
        
        // Partner Section
        'partner.title': 'Join as a partner driver',
        'partner.description': 'Get extra income by working with us. Flexible schedule, continuous support, and competitive commissions.',
        'partner.income': 'Average monthly income',
        'partner.support': 'Technical support',
        'partner.cta': 'Register as driver',
        
        // Footer
        'footer.tagline': 'Morocco\'s premier delivery service',
        'footer.company': 'Company',
        'footer.company.about': 'About us',
        'footer.company.careers': 'Careers',
        'footer.company.news': 'News',
        'footer.services': 'Services',
        'footer.services.ride': 'Ride',
        'footer.services.food': 'Food',
        'footer.services.package': 'Package',
        'footer.support': 'Support',
        'footer.support.help': 'Help center',
        'footer.support.safety': 'Safety',
        'footer.support.contact': 'Contact us',
        'footer.copyright': 'Â© 2025 Grab Morocco. All rights reserved.',
    }
};

// Language configuration
const languageConfig = {
    ar: { dir: 'rtl', lang: 'ar' },
    fr: { dir: 'ltr', lang: 'fr' },
    en: { dir: 'ltr', lang: 'en' }
};

// Get translation
function t(key, lang = null) {
    const currentLang = lang || getCurrentLanguage();
    return translations[currentLang]?.[key] || key;
}

// Get current language from localStorage or default to Arabic
function getCurrentLanguage() {
    return localStorage.getItem('language') || 'ar';
}

// Set language
function setLanguage(lang) {
    if (!translations[lang]) {
        console.error(`Language ${lang} not supported`);
        return;
    }
    
    localStorage.setItem('language', lang);
    updatePageLanguage(lang);
}

// Update page with new language
function updatePageLanguage(lang) {
    const config = languageConfig[lang];
    
    // Update HTML attributes
    document.documentElement.setAttribute('lang', config.lang);
    document.documentElement.setAttribute('dir', config.dir);
    
    // Update document title
    document.title = lang === 'ar' ? 'Grab Morocco - Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ù†Ù‚Ù„ ÙˆØ§Ù„ØªÙˆØµÙŠÙ„' :
                     lang === 'fr' ? 'Grab Morocco - Services de transport et livraison' :
                     'Grab Morocco - Transport and delivery services';
    
    // Update all elements with data-i18n attribute
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        element.textContent = t(key, lang);
    });
    
    // Update text alignment classes based on direction
    updateTextAlignment(config.dir);
    
    // Update active language button
    updateLanguageButtons(lang);
    
    // Update body classes for styling
    document.body.className = document.body.className.replace(/\b(rtl|ltr)\b/g, '');
    document.body.classList.add(config.dir);
}

// Update text alignment for RTL/LTR
function updateTextAlignment(dir) {
    const body = document.body;
    
    if (dir === 'rtl') {
        body.classList.add('rtl');
        body.classList.remove('ltr');
    } else {
        body.classList.add('ltr');
        body.classList.remove('rtl');
    }
}

// Update language button states
function updateLanguageButtons(lang) {
    document.querySelectorAll('[data-lang]').forEach(button => {
        const buttonLang = button.getAttribute('data-lang');
        if (buttonLang === lang) {
            button.classList.add('active-lang');
        } else {
            button.classList.remove('active-lang');
        }
    });
}

// Apply translations on page load
function applyTranslations() {
    const currentLang = getCurrentLanguage();
    const config = languageConfig[currentLang];
    
    // Update HTML attributes
    document.documentElement.setAttribute('lang', config.lang);
    document.documentElement.setAttribute('dir', config.dir);
    
    // Update document title
    document.title = currentLang === 'ar' ? 'Grab Morocco - Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ù†Ù‚Ù„ ÙˆØ§Ù„ØªÙˆØµÙŠÙ„' :
                     currentLang === 'fr' ? 'Grab Morocco - Services de transport et livraison' :
                     'Grab Morocco - Transport and delivery services';
    
    // Update all elements with data-i18n attribute
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        const translation = t(key, currentLang);
        element.textContent = translation;
    });
    
    // Update text alignment
    updateTextAlignment(config.dir);
    
    // Update body classes
    document.body.classList.remove('rtl', 'ltr');
    document.body.classList.add(config.dir);
}

// Initialize language on page load
document.addEventListener('DOMContentLoaded', () => {
    const currentLang = getCurrentLanguage();
    applyTranslations();
    updateLanguageButtons(currentLang);
});